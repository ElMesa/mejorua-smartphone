var mejorua = mejorua || {};
mejorua.controllers = mejorua.controllers || {};

(function() {
    mejorua.controllers.NotifyIssue = function NotifyIssue(issues, model, view) {

    	/////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        ///
        /// ATRIBUTTES
        ///
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////

        var self = this;
        var id = undefined;
        this.issue = undefined;
        this.view = undefined;

        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        ///
        /// METHODS
        ///
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    
    	this.init = function init(issues, model, view) {
    		console.log("mejorua.controllers.NotifyIssue.init()");

    		this.view = view;
            this.view.setController(this);
            this.issues = issues;
    		this.model = model;
    	}

        this.onNotifyIssueSubmit = function onNotifyIssueSubmit() {
            console.log("mejorua.controllers.NotifyIssue.onNotifyIssueSubmit()");            
            self.issues.create(self.model.attributes);
        }

    	/////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        ///
        /// SETTER'S
        ///
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//        this.setIssue = function setIssue(issue) {
//        	
//        	this.issue = issue;
//        	this.view.update(issue);
//        }

    	/////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        ///
        /// SELF INITILIZATION
        ///
        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        this.init(issues, model, view);
    }
})();